# Python - é«˜çº§ç¯‡

> ä¸åŒçš„ python ç‰ˆæœ¬ï¼Œè¿è¡Œçš„ python å‘½ä»¤å¯èƒ½ä¸åŒï¼Œè¿™é‡Œä»¥ python ä¸ºä¾‹ã€‚

## å¼€å‘ç»éªŒåŠæ³¨æ„äº‹é¡¹

### ç¼–ç æ ¼å¼

- åœ¨ä½¿ç”¨ with open()æ‰“å¼€æ–‡ä»¶æ—¶ï¼Œå¯ä»¥æŒ‡å®šæ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼Œå¦‚ï¼š`with open('file.txt', 'r', encoding='utf-8') as f:`ã€‚

  å¦‚æœæ˜¯åœ¨ windows ä¸‹è¿è¡Œï¼Œé€šå¸¸éœ€è¦æŒ‡å®šç¼–ç æ ¼å¼ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°é”™è¯¯ã€‚

  éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ¨¡å¼ä¸º `wb` æˆ–è€… `rb`ï¼Œåˆ™ä¸èƒ½æŒ‡å®šç¼–ç æ ¼å¼ï¼Œå› ä¸ºè¿™ä¸¤ç§æ¨¡å¼æ˜¯äºŒè¿›åˆ¶æ¨¡å¼ã€‚

- `json.dumps` é»˜è®¤ä¼šæŠŠä¸­æ–‡è½¬æ¢ä¸º unicode ç¼–ç ï¼Œå¯ä»¥é€šè¿‡ `ensure_ascii=False` å‚æ•°æ¥ä¿ç•™ä¸­æ–‡ã€‚

  å¦‚ï¼š`json.dumps(data, ensure_ascii=False)`ã€‚

### æŠ½è±¡ç±»ä¸ç»§æ‰¿

- Python ä¸­çš„æŠ½è±¡ç±»æ˜¯é€šè¿‡ `abc` æ¨¡å—å®ç°çš„ï¼ŒæŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ã€‚

- æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å­ç±»ä¸­å®ç°ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

- æŠ½è±¡ç±»ä¸­å¯ä»¥åŒ…å«æ™®é€šæ–¹æ³•ï¼Œå­ç±»å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚

- å¯ä»¥ä½¿ç”¨ `super()` å‡½æ•°æ¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚

- ğŸŒŸ åœ¨å­ç±»åˆå§‹åŒ–æ—¶ï¼Œè¦æ³¨æ„`super().__init__()`çš„è°ƒç”¨é¡ºåºï¼Œå¦‚æœçˆ¶ç±»åˆå§‹åŒ–æ—¶è°ƒç”¨äº†å­ç±»çš„æ–¹æ³•ï¼Œè¦ç¡®ä¿å­ç±»çš„å±æ€§å·²ç»åˆå§‹åŒ–ã€‚ï¼ˆè¿™ä¸ªé—®é¢˜ä¸å®¹æ˜“åœ¨ç¼–å†™ä»£ç æ—¶æ³¨æ„åˆ°ï¼Œè¦ç•™æ„ï¼‰

  ```python
    class A:
        def __init__(self):
            self.get_a()

        @abstractmethod
        def get_a(self):
            pass

    class B(A):
        def __init__(self):
            super().__init__()
            self.b = 1

        def get_a(self):
            print(self.b)
  ```

## è¿›é˜¶çŸ¥è¯†

### Python çš„æ•°æ®ç±»å‹

**é›†åˆç±»å‹**ï¼š

- listï¼šåˆ—è¡¨ï¼Œæœ‰åºå¯å˜åºåˆ—ï¼ˆç±»ä¼¼äºæ•°ç»„ï¼‰

  å¦‚: `[1, 2, 3]`

- dictï¼šå­—å…¸ï¼Œæ— åºé”®å€¼å¯¹é›†åˆï¼ˆå…³é”®è¯ï¼šé”®å€¼å¯¹ï¼‰

  å¦‚: `{'name': 'Alice', 'age': 18}`

- tupleï¼šå…ƒç»„ï¼Œæœ‰åºä¸å¯å˜åºåˆ—ï¼ˆå…³é”®è¯ï¼šä¸å¯å˜ï¼‰

  å¦‚: `(1, 2, 3)`

- setï¼šé›†åˆï¼Œæ— åºä¸é‡å¤å…ƒç´ é›†ï¼ˆå…³é”®è¯ï¼šä¸é‡å¤ï¼‰

  å¦‚: `{1, 2, 3}`

**å¯å˜å¯¹è±¡å’Œä¸å¯å˜å¯¹è±¡**

Python ä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºå¯å˜å¯¹è±¡å’Œä¸å¯å˜å¯¹è±¡ã€‚

æ˜¯å¦å¯å˜æ˜¯æŒ‡å¯¹è±¡çš„å†…å®¹æ”¹å˜åï¼Œid æ˜¯å¦ä¼šæ”¹å˜ã€‚ä¸å¯å˜å¯¹è±¡å› ä¸ºå®ƒä¸èƒ½åœ¨åŸåœ°ä¿®æ”¹ï¼Œæ‰€ä»¥æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå› æ­¤ id ä¼šæ”¹å˜ã€‚

- ä¸å¯å˜å¯¹è±¡ï¼šintã€floatã€strã€tuple ç­‰

- å¯å˜å¯¹è±¡ï¼šlistã€dictã€set ç­‰

```python
a = 1
print(id(a))  # 4316875464
a = 2
print(id(a))  # 4316875496
```

### Python çš„å†…ç½®å‡½æ•°

**enumerate() å‡½æ•°**

`enumerate()` å‡½æ•°æ˜¯ Python çš„å†…ç½®å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæšä¸¾å¯¹è±¡ï¼Œæšä¸¾å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œå…ƒç»„ä¸­åŒ…å«å…ƒç´ çš„ç´¢å¼•å’Œå€¼ã€‚

```python
for index, value in enumerate([1, 2, 3, 4, 5]):
    print(index, value)
```

å½“ä½ éœ€è¦å¯¹æ•°æ®è¿›è¡Œç´¢å¼•æ“ä½œæ—¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç®€åŒ–ä»£ç å¹¶é¿å…æ‰‹åŠ¨å¤„ç†ç´¢å¼•è®¡æ•°ã€‚

**map() å‡½æ•°**

`map()` å‡½æ•°æ˜¯ Python çš„å†…ç½®å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œ**è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œ**è¿­ä»£å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å°†å‡½æ•°åº”ç”¨äºå¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ å¾—åˆ°çš„ç»“æœã€‚

```python
def square(x):
    return x * x

print(list(map(square, [1, 2, 3, 4, 5])))
```

**super() å‡½æ•°**

`super()` å‡½æ•°æ˜¯ Python çš„å†…ç½®å‡½æ•°ï¼Œå®ƒè¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œè¿™ä¸ªä»£ç†å¯¹è±¡å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚

```python
class A:
    def __init__(self):
        print('A.__init__')

class B(A):
    def __init__(self):
        super().__init__()
        print('B.__init__')

b = B()
```

ç®€å•ç†è§£å°±æ˜¯ï¼Œ`super()` å‡½æ•°å¯ä»¥ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œä¸ç”¨æŒ‡å®šçˆ¶ç±»çš„åå­—ã€‚

### Python çš„è£…é¥°å™¨

#### è£…é¥°å™¨åŸºç¡€

è£…é¥°å™¨æ˜¯ Python çš„ä¸€ç§é«˜çº§ç‰¹æ€§ï¼Œå®ƒå¯ä»¥åœ¨ä¸ä¿®æ”¹åŸå‡½æ•°çš„æƒ…å†µä¸‹ï¼Œä¸ºå‡½æ•°æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚

ç®€å•ç‚¹ç†è§£å°±æ˜¯ï¼Œè£…é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°çš„å‡½æ•°ä¼šåœ¨åŸå‡½æ•°æ‰§è¡Œå‰åæ‰§è¡Œä¸€äº›é¢å¤–çš„ä»£ç ã€‚

```python
def decorator(func):
    def wrapper(*args, **kwargs):
        print('Before function')
        result = func(*args, **kwargs)
        print('After function')
        return result
    return wrapper

@decorator
def hello():
    print('Hello, world!')

hello()
```

ä¸Šé¢çš„æ¡ˆä¾‹ç±»ä¼¼äºä¸‹é¢çš„ä»£ç ï¼š

```python
def hello():
    print('Hello, world!')

hello = decorator(hello)
hello()
```

å¦‚æœéœ€è¦ç»™è£…é¥°å™¨ä¼ é€’å‚æ•°ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å¤–å†å¥—ä¸€å±‚å‡½æ•°ï¼š

```python
def decorator_with_args(arg):
    def decorator(func):
        def wrapper(*args, **kwargs):
            print(f'Before function with arg: {arg}')
            result = func(*args, **kwargs)
            print('After function')
            return result
        return wrapper
    return decorator

@decorator_with_args('arg')
def hello():
    print('Hello, world!')

hello()
```

#### å¸¸ç”¨çš„è£…é¥°å™¨

**@staticmethod**

`@staticmethod` è£…é¥°å™¨ç”¨äºå°†ç±»ä¸­çš„æ–¹æ³•å®šä¹‰ä¸ºé™æ€æ–¹æ³•ã€‚é™æ€æ–¹æ³•ä¸éœ€è¦ä¼ å…¥ `self` å‚æ•°ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨ã€‚

```python
class A:
    @staticmethod
    def hello():
        print('Hello, world!')

A.hello()
```

**@classmethod**

`@classmethod` è£…é¥°å™¨ç”¨äºå°†ç±»ä¸­çš„æ–¹æ³•å®šä¹‰ä¸ºç±»æ–¹æ³•ã€‚ç±»æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç±»æœ¬èº«ï¼Œé€šå¸¸å‘½åä¸º `cls`ã€‚

```python
class A:
    @classmethod
    def hello(cls):
        print(f'Hello, {cls.__name__}!')

A.hello()
```

**@staticmethod å’Œ @classmethod çš„åŒºåˆ«**

- `@staticmethod`ï¼šé™æ€æ–¹æ³•ä¸éœ€è¦ä¼ å…¥ `self` æˆ– `cls` å‚æ•°ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨

- `@classmethod`ï¼šç±»æ–¹æ³•éœ€è¦ä¼ å…¥ `cls` å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ç±»åæˆ–å®ä¾‹è°ƒç”¨

- `@classmethod` å¯ä»¥è®¿é—®ç±»å±æ€§å’Œç±»æ–¹æ³•ï¼Œå› ä¸ºæœ‰ç±»çš„å¼•ç”¨ï¼Œè€Œ `@staticmethod` æ— æ³•è®¿é—®ç±»å±æ€§å’Œç±»æ–¹æ³•

**@property**

`@property` è£…é¥°å™¨ç”¨äºå°†ç±»ä¸­çš„æ–¹æ³•å®šä¹‰ä¸ºå±æ€§ã€‚å±æ€§æ–¹æ³•å¯ä»¥åƒå±æ€§ä¸€æ ·è®¿é—®ï¼Œä¸éœ€è¦åŠ æ‹¬å·ã€‚

```python
class A:
    def __init__(self):
        self._name = 'Alice'

    @property
    def name(self):
        return self._name

    @name.setter
    def name(self, value):
        self._name = value

a = A()
print(a.name)
a.name = 'Bob'
print(a.name)
```

**@abstractmethod**

> åœ¨ Python ä¸­å®šä¹‰æŠ½è±¡ç±»æ—¶ï¼Œå¿…é¡»ä» abc æ¨¡å—å¯¼å…¥ ABC ç±»å’Œ abstractmethod è£…é¥°å™¨ã€‚ABC æ˜¯â€œæŠ½è±¡åŸºç±»â€çš„ç¼©å†™ï¼Œabstractmethod è£…é¥°å™¨ç”¨äºæ ‡è®°æŠ½è±¡æ–¹æ³•ã€‚

`@abstractmethod` è£…é¥°å™¨ç”¨äºå°†ç±»ä¸­çš„æ–¹æ³•å®šä¹‰ä¸ºæŠ½è±¡æ–¹æ³•ã€‚æŠ½è±¡æ–¹æ³•å¿…é¡»åœ¨å­ç±»ä¸­å®ç°ã€‚

```python
from abc import ABC, abstractmethod

class A(ABC):
    @abstractmethod
    def hello(self):
        pass

class B(A):
    def hello(self):
        print('Hello, world!')

b = B()
b.hello()
```

### Python çš„é”™è¯¯å¤„ç†

#### å¼‚å¸¸å¤„ç†

Python çš„é”™è¯¯å¤„ç†æœºåˆ¶æ˜¯é€šè¿‡ `try...except...else...finally` è¯­å¥æ¥å®ç°çš„ã€‚

- `try`ï¼šå°è¯•æ‰§è¡Œä»£ç å—ï¼Œå¦‚æœå‡ºç°å¼‚å¸¸ï¼Œåˆ™è·³è½¬åˆ° `except` è¯­å¥å—

- `except`ï¼šæ•è·å¼‚å¸¸ï¼Œå¹¶å¤„ç†å¼‚å¸¸

- `else`ï¼šå¦‚æœæ²¡æœ‰å¼‚å¸¸ï¼Œåˆ™æ‰§è¡Œ `else` è¯­å¥å—

- `finally`ï¼šæ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸ï¼Œéƒ½ä¼šæ‰§è¡Œ `finally` è¯­å¥å—

```python
try:
    # å°è¯•æ‰§è¡Œä»£ç å—
    print(1 / 0)
except ZeroDivisionError:
    # æ•è·å¼‚å¸¸
    print('ZeroDivisionError')
else:
    # æ²¡æœ‰å¼‚å¸¸
    print('No exception')
finally:
    # æ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸
    print('Finally')
```

#### è‡ªå®šä¹‰å¼‚å¸¸

Python çš„å¼‚å¸¸æ˜¯é€šè¿‡ç»§æ‰¿ `Exception` ç±»æ¥å®ç°çš„ï¼Œä½ å¯ä»¥é€šè¿‡ç»§æ‰¿ `Exception` ç±»æ¥å®šä¹‰è‡ªå·±çš„å¼‚å¸¸ã€‚

```python
class MyError(Exception):
    def __init__(self, message):
        self.message = message

    def __str__(self):
        return self.message

try:
    raise MyError('My error')
except MyError as e:
    print(e)
```

### Python çš„æ¨¡å—å’ŒåŒ…

**from ... import ...**

`from` åé¢è·Ÿçš„æ˜¯ `.py` æ–‡ä»¶åŠå…¶è·¯å¾„ï¼Œ`import` åé¢è·Ÿçš„æ˜¯æ¨¡å—åæˆ–è€…æ¨¡å—ä¸­çš„å‡½æ•°åã€‚

æ¯”å¦‚ä¸‹é¢çš„æ–‡ä»¶ç»“æ„ï¼š

```python
-root
  |-app.py
  |-lib
    |-__init__.py
    |-model
      |-__init__.py
      |-classA.py
```

åœ¨ `app.py` ä¸­ï¼Œå¯ä»¥è¿™æ ·å¼•å…¥ `classA`ï¼š

```python
from lib.model.classA import classA
```

**\_\_init\_\_.py**

`__init__.py` æ–‡ä»¶æ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œå®ƒçš„å­˜åœ¨å‘Šè¯‰ Python è¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ª Python åŒ…ã€‚

æ²¡æœ‰å®ƒï¼ŒPython å°±ä¸ä¼šæŠŠè¿™ä¸ªç›®å½•å½“ä½œåŒ…æ¥å¤„ç†ï¼Œä¹Ÿå°±æ— æ³•å¼•å…¥åŒ…ä¸­çš„æ¨¡å—ã€‚

**\_\_name\_\_**

`__name__` æ˜¯ Python çš„ä¸€ä¸ªå†…ç½®å˜é‡ï¼Œå®ƒçš„å€¼å–å†³äº Python å¦‚ä½•è¿è¡Œå½“å‰çš„æ¨¡å—ã€‚

é€šå¸¸è¿™æ ·ä½¿ç”¨ï¼š

```python
if __name__ == '__main__':
    # do something
```

è¿™æ ·å¯ä»¥è®©æ¨¡å—æ—¢å¯ä»¥è¢«å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè„šæœ¬ç›´æ¥è¿è¡Œã€‚

é€šè¿‡å°†è¦è¿è¡Œçš„è„šæœ¬ä¸­çš„ä»£ç å†™åœ¨ `if __name__ == '__main__':` ä¹‹åï¼Œé¿å…äº†åœ¨å¯¼å…¥æ¨¡å—æ—¶è¿è¡Œè„šæœ¬ä¸­çš„ä»£ç ã€‚

### Python çš„å†…å­˜ç®¡ç†

Python çš„å†…å­˜ç®¡ç†æ˜¯é€šè¿‡å¼•ç”¨è®¡æ•°å’Œåƒåœ¾å›æ”¶æœºåˆ¶æ¥å®ç°çš„ã€‚

- å¼•ç”¨è®¡æ•°ï¼šPython ä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸º 0 æ—¶ï¼Œå¯¹è±¡è¢«é”€æ¯ã€‚

- åƒåœ¾å›æ”¶ï¼šPython é€šè¿‡åƒåœ¾å›æ”¶æœºåˆ¶æ¥å¤„ç†å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚åƒåœ¾å›æ”¶å™¨ä¼šå®šæœŸæ£€æŸ¥å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸º 0 æ—¶ï¼Œå¯¹è±¡è¢«é”€æ¯ã€‚

Python çš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰ä¸¤ç§ï¼šåˆ†ä»£åƒåœ¾å›æ”¶å’Œå¾ªç¯åƒåœ¾å›æ”¶ã€‚

- åˆ†ä»£åƒåœ¾å›æ”¶ï¼šPython å°†å¯¹è±¡åˆ†ä¸ºä¸‰ä»£ï¼Œæ¯ä»£å¯¹è±¡çš„å­˜æ´»æ—¶é—´è¶Šé•¿ï¼Œå°±è¶Šä¸å¯èƒ½è¢«é”€æ¯ã€‚Python ä¼šæ ¹æ®å¯¹è±¡çš„å­˜æ´»æ—¶é—´æ¥å†³å®šä½•æ—¶é”€æ¯å¯¹è±¡ã€‚

- å¾ªç¯åƒåœ¾å›æ”¶ï¼šPython é€šè¿‡å¼•ç”¨è®¡æ•°å’Œæ ‡è®°æ¸…é™¤ç®—æ³•æ¥å¤„ç†å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨å¾ªç¯å¼•ç”¨æ—¶ï¼ŒPython ä¼šé€šè¿‡æ ‡è®°æ¸…é™¤ç®—æ³•æ¥æ£€æµ‹å’Œé”€æ¯å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ã€‚

**å¦‚ä½•é¿å…å†…å­˜æ³„æ¼**

- é¿å…å¾ªç¯å¼•ç”¨ï¼šå½“å¯¹è±¡ä¹‹é—´å­˜åœ¨å¾ªç¯å¼•ç”¨æ—¶ï¼ŒPython çš„åƒåœ¾å›æ”¶æœºåˆ¶æ— æ³•æ­£ç¡®å¤„ç†ï¼Œä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚

- ä½¿ç”¨ `with` è¯­å¥ï¼š`with` è¯­å¥å¯ä»¥è‡ªåŠ¨å…³é—­æ–‡ä»¶å’Œé‡Šæ”¾èµ„æºï¼Œé¿å…èµ„æºæ³„æ¼ã€‚

- ä½¿ç”¨ `gc` æ¨¡å—ï¼š`gc` æ¨¡å—æä¾›äº†ä¸€äº›å‡½æ•°ï¼Œå¯ä»¥æ‰‹åŠ¨è§¦å‘åƒåœ¾å›æ”¶æœºåˆ¶ã€‚

**å¦‚ä½•é¿å…è¢«é”™è¯¯çš„åƒåœ¾å›æ”¶**

- å¼•ç”¨è®¡æ•°ï¼šå½“å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º 0 æ—¶ï¼Œå¯¹è±¡ä¼šè¢«é”€æ¯ã€‚å¦‚æœå¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸ä¸º 0ï¼Œå¯¹è±¡å°±ä¸ä¼šè¢«é”€æ¯ã€‚

è¿™ä¸ªå¯ä»¥é€šè¿‡ä¿æŒæ˜¾å¼å¼•ç”¨æ¥é¿å…å¯¹è±¡è¢«é”€æ¯ã€‚

åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ä½ åˆ›å»ºä¸€ä¸ª `PhotoImage` å¯¹è±¡æ—¶ï¼Œç”±äº `Tkiner` ä¸ä¼šç®¡ç†è¿™ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå½“è¿™ä¸ªå¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œå›¾åƒå°±ä¼šæ¶ˆå¤±ï¼ˆè¡¨ç°å°±æ˜¯è«åå…¶å¦™ä¸æ˜¾ç¤ºäº†ï¼‰ã€‚

```python
# æ²¡æœ‰æ˜¾å¼åº”ç”¨
photo_image = ImageTk.PhotoImage(image)
image_label = tk.Label(image_frame, image=photo_image)
image_label.pack()
# æ˜¾å¼åº”ç”¨
photo_image = ImageTk.PhotoImage(image)
image_label = tk.Label(image_frame, image=photo_image)
image_label.image = photo_image
image_label.pack()
```

åœ¨è¿™é‡Œï¼Œé€šè¿‡å°† `PhotoImage` å¯¹è±¡èµ‹å€¼ç»™ `Label` çš„ `image` å±æ€§ï¼Œä½ å¯ä»¥ç¡®ä¿ `PhotoImage` å¯¹è±¡åœ¨ `Label` å­˜åœ¨æœŸé—´ä¿æŒæ´»åŠ¨çŠ¶æ€ï¼Œä»è€Œé˜²æ­¢å›¾åƒæ„å¤–æ¶ˆå¤±ã€‚è¿™æ˜¯ Tkinter å¤„ç†ä¸­å¸¸è§çš„åšæ³•ã€‚

- å¼ºåˆ¶å¼•ç”¨ï¼šå¯ä»¥ä½¿ç”¨å¼ºåˆ¶å¼•ç”¨æ¥é˜»æ­¢å¯¹è±¡è¢«é”€æ¯ã€‚å¼ºåˆ¶å¼•ç”¨å¯ä»¥é€šè¿‡ `gc.get_referrers()` å‡½æ•°æ¥è·å–ã€‚

```python
import gc

class A:
    pass

a = A()

# å¼ºåˆ¶å¼•ç”¨
gc.get_referrers(a)
```

## pip å’Œ virtualenv

### pip

`pip` æ˜¯ Python çš„åŒ…ç®¡ç†å·¥å…·ï¼Œç”¨äºå®‰è£…å’Œç®¡ç† Python åŒ…ã€‚

å¸¸ç”¨å‘½ä»¤åŒ…æ‹¬ï¼š

- `pip install --upgrade pip`ï¼šå‡çº§ pip

- `pip install package_name`ï¼šå®‰è£…åŒ…

- `pip uninstall package_name`ï¼šå¸è½½åŒ…

- `pip list`ï¼šåˆ—å‡ºå·²å®‰è£…çš„åŒ…

- `pip show package_name`ï¼šæ˜¾ç¤ºåŒ…çš„è¯¦ç»†ä¿¡æ¯

- `pip search package_name`ï¼šæœç´¢åŒ…

- `pip freeze > requirements.txt`ï¼šå°†å½“å‰ç¯å¢ƒä¸­å·²å®‰è£…çš„åŒ…å¯¼å‡ºåˆ° `requirements.txt` æ–‡ä»¶

- `pip install -r requirements.txt`ï¼šä» `requirements.txt` æ–‡ä»¶ä¸­å®‰è£…åŒ…

- `pip install -e .`: ä»¥å¯ç¼–è¾‘çš„æ–¹å¼å®‰è£…åŒ…ï¼ˆå³åœ¨å½“å‰ç›®å½•ä¸‹å®‰è£…åŒ…ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹åŒ…çš„æºç ï¼‰

**pip ä¿®æ”¹é…ç½®æ–‡ä»¶**

ä½ å¯ä»¥ä½¿ç”¨ `pip config` å‘½ä»¤ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š

```bash
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
```

è¿™é‡Œå°†å…¨å±€çš„ `index-url` è®¾ç½®ä¸ºæ¸…åå¤§å­¦çš„é•œåƒæºã€‚

### virtualenv

`virtualenv` æ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºç‹¬ç«‹ Python ç¯å¢ƒçš„å·¥å…·ã€‚

åœ¨ Python 3.3 ä¹‹åï¼Œ`venv` æ¨¡å—å·²ç»å†…ç½®åœ¨ Python ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `python -m venv` å‘½ä»¤åˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚

- åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼š

  ```bash
  python -m venv /path/to/new/virtual/environment
  ```

- æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼š

  ```bash
  source /path/to/new/virtual/environment/bin/activate
  ```

  æ¿€æ´»åï¼Œå‘½ä»¤è¡Œæç¤ºç¬¦ä¼šæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒçš„åç§°ã€‚

- é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š

  ```bash
  deactivate
  ```
